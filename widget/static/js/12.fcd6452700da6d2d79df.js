webpackJsonp([12],{"6C8Z":function(t,s){},"9tRM":function(t,s){},JD3s:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("Dd8w"),i=e.n(a),n=e("NYxO"),o={mounted:function(){console.log(this.groupinfoList)},computed:{groupinfoList:function(){return this.$store.state.group.groupInfo}},methods:i()({},Object(n.b)(["onInviteGroup"]),{addMember:function(){var t=this;mui.prompt("请输入手机号：","","邀请成员",["取消","确定"],function(s){1==s.index&&(t.onInviteGroup({select_id:t.groupinfoList.gid,select_name:s.value}),mui.toast("已发出邀请"))})}})},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("aside",{staticClass:"mui-off-canvas-right",attrs:{id:"offCanvasSide"}},[e("div",{staticClass:"mui-scroll-wrapper",attrs:{id:"offCanvasSideScroll"}},[e("div",{staticClass:"mui-scroll"},[e("div",{staticClass:"title"},[t._v("群组信息")]),t._v(" "),e("div",{staticClass:"content"},[e("span",{staticClass:"android-only"}),t._v(" "),e("p",{staticStyle:{margin:"10px 15px"}},[e("button",{staticClass:"mui-btn mui-btn-danger mui-btn-block",staticStyle:{padding:"5px 20px"},attrs:{id:"offCanvasHide",type:"button"}},[t._v("关闭")]),t._v(" "),e("button",{staticClass:"mui-btn mui-btn-danger mui-btn-block",staticStyle:{padding:"5px 20px"},attrs:{type:"button"},on:{click:function(s){return t.addMember()}}},[t._v("添加成员+")])])]),t._v(" "),t._m(0),t._v(" "),t._l(t.groupinfoList.members.filter(function(t){if(!t.owner)return t}),function(s,a){return e("ul",{staticClass:"mui-table-view mui-table-view-chevron mui-table-view-inverted"},[e("li",{staticClass:"mui-table-view-cell"},[e("a",{staticClass:"mui-navigate-right"},[t._v(t._s(s.member))])])])}),t._v(" "),t._m(1),t._v(" "),e("ul",{staticClass:"mui-table-view mui-table-view-chevron mui-table-view-inverted"},[e("li",{staticClass:"mui-table-view-cell"},[e("a",{staticClass:"mui-navigate-right"},[t._v(t._s(t.groupinfoList.admin))])])])],2)])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"title",staticStyle:{"margin-bottom":"25px"}},[s("span",[this._v("成员")]),this._v(" "),s("span",{})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"title",staticStyle:{"margin-bottom":"25px"}},[s("span",[this._v("群主")])])}]};var u=e("VU/8")(o,r,!1,function(t){e("9tRM")},"data-v-2e9b7938",null).exports,c=e("PJh5"),l=e.n(c),d={components:{Aside:u},data:function(){return{data:"",type:"group",activedKey:{contact:"",group:"",chatroom:""},status:{sending:"发送中",sent:"已发送",read:"已读"}}},mounted:function(){this.onGetGroupUserList(),this.getCurrentMsg(),this.init(),this.onGetGroupinfo({select_id:this.groupid}),console.log(this.groupinfoList)},computed:i()({groupid:function(){return this.$route.params.id}},Object(n.c)({group:"onGetCurrentChatObjMsg"}),{username:function(){return this.$route.params.username},groupinfoList:function(){return this.$store.state.group.groupInfo}}),methods:i()({},Object(n.b)(["onSendText","onGetGroupUserList","onGetContactUserList","onGetGroupinfo","updateMessageStatus","onGetCurrentChatObjMsg"]),{onSendTextMsg:function(){console.log(this.activedKey[this.type]),this.onSendText({chatType:this.type,chatId:this.groupid,message:this.data}),this.data=""},select2:function(t,s){this.$data.selectedKeys=[s],this.select(t),this.$data.activedKey[this.type]=t},getCurrentMsg:function(t){this.onGetCurrentChatObjMsg({type:"group",id:this.groupid}),Vue.$store.commit("updateMessageStatus",{action:"oneUserReadMsgs",readUser:this.groupid})},renderTime:function(t){var s=new Date,e=t?new Date(t):s;return l()(e).format("MM-DD hh:mm A")},getGroupInfo:function(){this.onGetGroupinfo({select_id:this.groupid})},init:function(){mui.init({swipeBack:!1});var t=mui("#offCanvasWrapper"),s=document.getElementById("offCanvasSide"),e=t[0].classList;s.classList.remove("mui-transitioning"),s.setAttribute("style",""),e.remove("mui-slide-in"),e.remove("mui-scalable"),e.add("mui-slide-in"),console.log(t),document.getElementById("offCanvasShow").addEventListener("tap",function(){mui(".mui-off-canvas-wrap").offCanvas("show")}),document.getElementById("offCanvasHide").addEventListener("tap",function(){t.offCanvas("close")}),mui("#offCanvasSideScroll").scroll(),mui("#offCanvasContentScroll").scroll()}}),filters:{avatar:function(t){return t.slice(t.length-4)}}},v={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"chat-container mui-off-canvas-wrap mui-draggable",attrs:{id:"offCanvasWrapper"}},[e("Aside"),t._v(" "),e("div",{staticClass:"mui-inner-wrap"},[e("div",{staticClass:"chat-container-top"},[e("span",{staticClass:"mui-icon mui-icon-back"}),t._v(" "),e("span",[t._v(t._s(t.groupinfoList.name)+t._s(t.groupinfoList.gid))]),t._v(" "),e("span",{staticClass:"mui-icon mui-icon-more",attrs:{id:"offCanvasShow"}})]),t._v(" "),t._l(t.group,function(s,a){return e("div",{staticClass:"chat-item"},[s.bySelf?t._e():e("div",{staticClass:"chat-item-left"},[e("div",{staticClass:"avatar-box"},[e("div",{staticClass:"avatar"},[e("span",{staticClass:"avatar-span"},[t._v(t._s(t._f("avatar")(s.from)))])])]),t._v(" "),e("div",{staticClass:"bubble-box"},[e("div",{staticClass:"message-container bubble-container"},[e("span",{staticClass:"message-span"},[t._v(t._s(s.msg))])]),t._v(" "),"recall"!==s.status?e("div",{staticClass:"time-style",style:{"text-align":s.bySelf?"right":"left"}},[t._v(t._s(t.renderTime(s.time))+" "+t._s(s.bySelf?t.status[s.status]:""))]):t._e()])]),t._v(" "),s.bySelf?e("div",{staticClass:"chat-item-right"},[e("div",{staticClass:"bubble-box"},[e("div",{staticClass:"message-container-right bubble-container-right"},[e("span",{staticClass:"message-span"},[t._v(t._s(s.msg))])])]),t._v(" "),e("div",{staticClass:"avatar-box"},[e("div",{staticClass:"avatar"},[e("span",{staticClass:"avatar-span"},[t._v(t._s(t._f("avatar")(t.username)))])])])]):t._e()])}),t._v(" "),e("div",{staticClass:"send-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data,expression:"data"}],staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"请输入"},domProps:{value:t.data},on:{input:function(s){s.target.composing||(t.data=s.target.value)}}}),t._v(" "),e("button",{staticClass:"mui-btn",attrs:{type:"button"},on:{click:function(s){return t.onSendTextMsg()}}},[t._v("发送")])])],2)],1)},staticRenderFns:[]};var m=e("VU/8")(d,v,!1,function(t){e("6C8Z")},"data-v-7499470f",null);s.default=m.exports}});
//# sourceMappingURL=12.fcd6452700da6d2d79df.js.map