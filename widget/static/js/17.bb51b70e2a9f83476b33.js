webpackJsonp([17],{ROJ5:function(t,e){},aOWT:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("Dd8w"),a=s.n(n),i=s("NYxO"),r=s("PJh5"),o=s.n(r),u={components:{Nothing:s("+pfy").a},beforeMount:function(){this.onGetGroupUserList(),console.log(this.groupList.group)},computed:a()({},Object(i.c)({group:"onGetGroupUserList"}),{groupList:function(){return{group:this.group.filter(function(t){if(t)return t}),contact:this.contact,chatroom:this.chatroom}},chatList:function(){return this.$store.state.chat.msgList},username:function(){return this.$route.query.username}}),methods:a()({},Object(i.b)(["onGetGroupUserList"]),{select2:function(t){this.$router.push("/chat/group/"+t.groupid+"/"+this.username)},getUnreadNum:function(t){var e=0;return(this.chatList.group[t.groupid]||[]).forEach(function(t){"read"===t.status||"recall"===t.status||t.bySelf||e++}),e},renderTime:function(t){var e=new Date,s=t?new Date(t):e;return o()(s).format("MM-DD hh:mm A")},getLastMsg:function(t){console.log(this.chatList);var e=this.chatList.group;console.log(e);var s=e[t.groupid]||[],n="",a=s.length&&s[s.length-1].type;return s.length&&(n="img"===a?"[image]":"file"===a?s[s.length-1].filename:"audio"===a?"[audio]":"vidio"===a?"[vidio]":s[s.length-1].msg),{lastMsg:n,msgTime:s.length?this.renderTime(s[s.length-1].time):""}}}),filters:{avatar:function(t){return t.slice(0,2)}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"group-container"},[t.groupList.group.length?t._e():s("Nothing"),t._v(" "),t._l(t.groupList.group,function(e,n){return s("div",{key:n,staticClass:"item",on:{click:function(s){return t.select2(e)}}},[s("div",{staticClass:"avatar"},[s("span",{staticClass:"avatar-span"},[t._v(t._s(t._f("avatar")(e.groupname)))])]),t._v(" "),s("div",{staticClass:"message-container"},[s("div",{staticClass:"message-info"},[s("div",[s("span",{staticClass:"message-name"},[t._v(t._s(e.groupname))]),t._v(" "),0!=t.getUnreadNum(e)?s("div",{staticClass:"icon-style"},[s("span",{staticClass:"unreadNum"},[t._v(t._s(t.getUnreadNum(e)))])]):t._e()]),t._v(" "),s("span",{staticClass:"time-style"},[t._v(t._s(t.getLastMsg(e).msgTime))])]),t._v(" "),s("div",{staticClass:"message-detail"},[t._v(t._s(t.getLastMsg(e).lastMsg))])])])})],2)},staticRenderFns:[]};var g=s("VU/8")(u,c,!1,function(t){s("ROJ5")},"data-v-e025bfd0",null);e.default=g.exports}});
//# sourceMappingURL=17.bb51b70e2a9f83476b33.js.map