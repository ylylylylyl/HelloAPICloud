webpackJsonp([4,31],{AULX:function(t,s){},LUip:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={components:{Header:e("tyqc").a},data:function(){return{root:"http://192.168.43.129:8080/",resultObject:{}}},computed:{repairid:function(){return this.$route.query.repairid}},mounted:function(){this.initDetail()},methods:{initDetail:function(){var t=this;this.$ajax.post({url:this.root+"repairorder/selectdetail",data:{repairid:this.repairid}}).then(function(s){s.status&&(t.resultObject=s.object)})},handleOrder:function(t){var s=this;mui.confirm("确认接单？","接单",["否","是"],function(e){if(1==e.index){var a=s.$cookies.get("CUR_USERINFO"),i=a.adminid,n=a.phone,r=a.adminname,c={repairid:t,receivername:r,userid:i,phone:n};s.$ajax.post({url:s.root+"repairorder/order",data:c}).then(function(t){t.status?s.$router.push("/adminrepair"):mui.toast("接单失败")})}})}},filters:{repairtype:function(t){switch(t){case 1:return"消防";case 2:return"照明";case 3:return"暖气";case 4:return"马桶";case 5:return"桌椅";case 6:return"其他"}}}},i={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"com-container"},[e("Header",[t._v("报修记录")]),t._v(" "),e("div",{staticClass:"records-main"},[e("div",{staticClass:"div-container "},[e("div",{staticClass:"repair-status"},[e("span",[t._v("流水号")]),t._v(" "),e("span",{staticClass:"status-content"},[t._v(t._s(t.resultObject.repairid))])]),t._v(" "),e("div",{staticClass:"repair-status"},[e("span",[t._v("报修状态")]),t._v(" "),e("span",{staticClass:"status-content"},[t._v(t._s(t._f("status")(t.resultObject.repairstatus)))])]),t._v(" "),e("div",{staticClass:"repair-status"},[e("span",[t._v("预约时间")]),t._v(" "),e("span",{staticClass:"status-content"},[t._v(t._s(t.resultObject.appointmenttime)+" ")])])]),t._v(" "),e("div",{staticClass:"div-container repair-info"},[e("div",{staticClass:"info-title"},[t._v("报修信息")]),t._v(" "),e("div",{staticClass:"info-content"},[e("button",{staticClass:"mui-btn mui-btn-primary mui-btn-outlined",attrs:{type:"button"}},[t._v(t._s(t._f("repairtype")(t.resultObject.repairtype)))]),t._v(" "),e("p",{staticClass:"info-des"},[t._v(t._s(t.resultObject.description))]),t._v(" "),e("div",{staticClass:"info-img"},[e("img",{attrs:{src:t.resultObject.photo}})])])]),t._v(" "),0!=t.resultObject.repairstatus?e("div",{staticClass:"div-container repair-info"},[e("div",{staticClass:"info-title"},[t._v("接单人信息")]),t._v(" "),e("div",{staticClass:"repair-status"},[e("span",[t._v("联系人")]),t._v(" "),e("span",{staticClass:"status-content"},[t._v(t._s(t.resultObject.reciever))])]),t._v(" "),e("div",{staticClass:"repair-status"},[e("span",[t._v("联系电话")]),t._v(" "),e("span",{staticClass:"status-content"},[t._v(t._s(t.resultObject.recieverphone))])]),t._v(" "),e("div",{staticClass:"repair-status"},[e("span",[t._v("接单时间")]),t._v(" "),e("span",{staticClass:"status-content"},[t._v(t._s(t._f("format")(t.resultObject.recievetime)))])])]):t._e(),t._v(" "),e("div",{staticClass:"div-container repair-info"},[e("div",{staticClass:"info-title"},[t._v("发单人信息")]),t._v(" "),e("div",{staticClass:"repair-status"},[e("span",[t._v("联系人")]),t._v(" "),e("span",{staticClass:"status-content"},[t._v(t._s(t.resultObject.contactname))])]),t._v(" "),e("div",{staticClass:"repair-status"},[e("span",[t._v("联系电话")]),t._v(" "),e("span",{staticClass:"status-content"},[t._v(t._s(t.resultObject.concatphone))])])])]),t._v(" "),e("div",{staticClass:"submit-container"},[0==t.resultObject.repairstatus?e("button",{staticClass:"mui-btn submit-btn",attrs:{type:"button"},on:{click:function(s){return t.handleOrder(t.resultObject.repairid)}}},[t._v("点击接单")]):t._e()])],1)},staticRenderFns:[]};var n=e("VU/8")(a,i,!1,function(t){e("gr6+")},"data-v-36f68b86",null);s.default=n.exports},"gr6+":function(t,s){},nESM:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("tyqc"),i=e("LUip"),n={components:{Header:a.a,ReportRecords:i.default},data:function(){return{root:"http://192.168.43.129:8080/",initDataList:[],types:[{label:"全部",value:0},{label:"我的接单",value:1}],isopen:!1,showType:0}},mounted:function(){this.initData()},methods:{initData:function(){var t=this,s=this.$cookies.get("CUR_USERINFO").villageid;this.$ajax.post({url:this.root+"repairorder/selectsumbyvill",data:{villageid:s}}).then(function(s){s.status&&(t.initDataList=s.result)})},goback:function(){this.$router.go(-1)},toRecords:function(t){this.$router.push({path:"/adminrecords",query:{repairid:t}})},selectSelf:function(){var t=this,s=this.$cookies.get("CUR_USERINFO").adminid;this.$ajax.post({url:this.root+"repairorder/selectself",data:{adminid:s}}).then(function(s){s.status&&(t.initDataList=s.result)})},handleChange:function(){this.isopen=!this.isopen},handleChangeData:function(){0==this.showType?this.initData():this.selectSelf()}},filters:{styleStatus:function(t){switch(t){case"0":return"mui-badge mui-badge-primary";case"1":return"mui-badge mui-badge-danger"}}}},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("Header",[t._v("报修列表")]),t._v(" "),e("div",{staticClass:"com-container"},[e("div",{staticClass:"select-container"},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isopen,expression:"!isopen"}],staticClass:"mui-icon mui-icon-arrowdown"}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isopen,expression:"isopen"}],staticClass:"mui-icon mui-icon-arrowup"}),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.showType,expression:"showType"}],staticClass:"mui-h5",staticStyle:{margin:"auto",color:"#000"},on:{change:[function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.showType=s.target.multiple?e:e[0]},function(s){return t.handleChangeData()}],click:function(s){return t.handleChange(s)}}},t._l(t.types,function(s,a){return e("option",{key:a,domProps:{value:s.value}},[t._v(t._s(s.label))])}),0)]),t._v(" "),t._l(t.initDataList,function(s,a){return e("div",{key:a,staticClass:"repair-item",on:{click:function(e){return t.toRecords(s.repairid)}}},[e("div",{staticClass:"repair-item-title"},[e("span",[t._v(t._s(s.description))]),t._v(" "),e("span",{staticClass:"mui-icon mui-icon-arrowright"})]),t._v(" "),e("div",{staticClass:"repair-item-time"},[e("span",{class:t._f("styleStatus")(s.repairstatus)},[t._v(t._s(t._f("status")(s.repairstatus)))]),t._v(" "),e("span",{staticClass:"item-date"},[t._v(t._s(t._f("format")(s.publishtime)))])])])})],2)],1)},staticRenderFns:[]};var c=e("VU/8")(n,r,!1,function(t){e("AULX")},"data-v-1c75890e",null);s.default=c.exports}});
//# sourceMappingURL=4.a60d2efd7523df958dec.js.map