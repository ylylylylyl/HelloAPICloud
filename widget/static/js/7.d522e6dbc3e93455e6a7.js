webpackJsonp([7,27],{LUip:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e={components:{Header:a("tyqc").a},data:function(){return{root:"http://192.168.43.129:8080/",resultObject:{}}},computed:{repairid:function(){return this.$route.query.repairid}},mounted:function(){this.initDetail()},methods:{initDetail:function(){var t=this;this.$ajax.post({url:this.root+"repairorder/selectdetail",data:{repairid:this.repairid}}).then(function(s){s.status&&(t.resultObject=s.object)})},handleOrder:function(t){var s=this;mui.confirm("确认接单？","接单",["否","是"],function(a){if(1==a.index){var e=s.$cookies.get("CUR_USERINFO"),i=e.userid,r=e.userphone,n=e.username,c={repairid:t,receivername:n,userid:i,phone:r};s.$ajax.post({url:s.root+"repairorder/order",data:c}).then(function(t){t.status?s.$router.push("/adminrepair"):mui.toast("接单失败")})}})}},filters:{repairtype:function(t){switch(t){case 1:return"消防";case 2:return"照明";case 3:return"暖气";case 4:return"马桶";case 5:return"桌椅";case 6:return"其他"}}}},i={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"com-container"},[a("Header",[t._v("报修记录")]),t._v(" "),a("div",{staticClass:"records-main"},[a("div",{staticClass:"div-container "},[a("div",{staticClass:"repair-status"},[a("span",[t._v("流水号")]),t._v(" "),a("span",{staticClass:"status-content"},[t._v(t._s(t.resultObject.repairid))])]),t._v(" "),a("div",{staticClass:"repair-status"},[a("span",[t._v("报修状态")]),t._v(" "),a("span",{staticClass:"status-content"},[t._v(t._s(t._f("status")(t.resultObject.repairstatus)))])]),t._v(" "),a("div",{staticClass:"repair-status"},[a("span",[t._v("预约时间")]),t._v(" "),a("span",{staticClass:"status-content"},[t._v(t._s(t.resultObject.appointmenttime)+" ")])])]),t._v(" "),a("div",{staticClass:"div-container repair-info"},[a("div",{staticClass:"info-title"},[t._v("报修信息")]),t._v(" "),a("div",{staticClass:"info-content"},[a("button",{staticClass:"mui-btn mui-btn-primary mui-btn-outlined",attrs:{type:"button"}},[t._v(t._s(t._f("repairtype")(t.resultObject.repairtype)))]),t._v(" "),a("p",{staticClass:"info-des"},[t._v(t._s(t.resultObject.description))]),t._v(" "),a("div",{staticClass:"info-img"},[a("img",{attrs:{src:t.resultObject.photo}})])])]),t._v(" "),0!=t.resultObject.repairstatus?a("div",{staticClass:"div-container repair-info"},[a("div",{staticClass:"info-title"},[t._v("接单人信息")]),t._v(" "),a("div",{staticClass:"repair-status"},[a("span",[t._v("联系人")]),t._v(" "),a("span",{staticClass:"status-content"},[t._v(t._s(t.resultObject.reciever))])]),t._v(" "),a("div",{staticClass:"repair-status"},[a("span",[t._v("联系电话")]),t._v(" "),a("span",{staticClass:"status-content"},[t._v(t._s(t.resultObject.recieverphone))])]),t._v(" "),a("div",{staticClass:"repair-status"},[a("span",[t._v("接单时间")]),t._v(" "),a("span",{staticClass:"status-content"},[t._v(t._s(t._f("format")(t.resultObject.recievetime)))])])]):t._e(),t._v(" "),a("div",{staticClass:"div-container repair-info"},[a("div",{staticClass:"info-title"},[t._v("发单人信息")]),t._v(" "),a("div",{staticClass:"repair-status"},[a("span",[t._v("联系人")]),t._v(" "),a("span",{staticClass:"status-content"},[t._v(t._s(t.resultObject.contactname))])]),t._v(" "),a("div",{staticClass:"repair-status"},[a("span",[t._v("联系电话")]),t._v(" "),a("span",{staticClass:"status-content"},[t._v(t._s(t.resultObject.concatphone))])]),t._v(" "),a("div",{staticClass:"repair-status"},[a("span",[t._v("详细地址")]),t._v(" "),a("span",{staticClass:"status-content"},[t._v(t._s(t.resultObject.address))])])])]),t._v(" "),a("div",{staticClass:"submit-container"},[0==t.resultObject.repairstatus?a("button",{staticClass:"mui-btn submit-btn",attrs:{type:"button"},on:{click:function(s){return t.handleOrder(t.resultObject.repairid)}}},[t._v("点击接单")]):t._e()])],1)},staticRenderFns:[]};var r=a("VU/8")(e,i,!1,function(t){a("XBOS")},"data-v-743f786d",null);s.default=r.exports},P7HI:function(t,s){},XBOS:function(t,s){},nESM:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("tyqc"),i=a("LUip"),r={components:{Header:e.a,ReportRecords:i.default},data:function(){return{root:"http://192.168.43.129:8080/",initDataList:[],types:[{label:"全部",value:0},{label:"我的接单",value:1}],isopen:!1,showType:0}},mounted:function(){this.initData()},methods:{initData:function(){var t=this,s=this.$cookies.get("CUR_USERINFO").villageid;this.$ajax.post({url:this.root+"repairorder/selectsumbyvill",data:{villageid:s}}).then(function(s){s.status&&(t.initDataList=s.result)})},goback:function(){this.$router.go(-1)},toRecords:function(t){this.$router.push({path:"/adminrecords",query:{repairid:t}})},selectSelf:function(){var t=this,s=this.$cookies.get("CUR_USERINFO").userid;this.$ajax.post({url:this.root+"repairorder/selectself",data:{adminid:s}}).then(function(s){s.status&&(t.initDataList=s.result)})},handleChange:function(){this.isopen=!this.isopen},handleChangeData:function(){0==this.showType?this.initData():this.selectSelf()}},filters:{styleStatus:function(t){switch(t){case"0":return"mui-badge mui-badge-primary";case"1":return"mui-badge mui-badge-danger"}}}},n={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"back-header"},[a("span",{staticClass:"mui-icon mui-icon-arrowleft",on:{click:function(s){return t.$router.push("/admin/home")}}}),t._v(" "),a("span",[t._v("\n          报修列表\n      ")])]),t._v(" "),a("div",{staticClass:"com-container"},[a("div",{staticClass:"select-container"},[a("span",{directives:[{name:"show",rawName:"v-show",value:!t.isopen,expression:"!isopen"}],staticClass:"mui-icon mui-icon-arrowdown"}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isopen,expression:"isopen"}],staticClass:"mui-icon mui-icon-arrowup"}),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.showType,expression:"showType"}],staticClass:"mui-h5",staticStyle:{margin:"auto",color:"#000"},on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.showType=s.target.multiple?a:a[0]},function(s){return t.handleChangeData()}],click:function(s){return t.handleChange(s)}}},t._l(t.types,function(s,e){return a("option",{key:e,domProps:{value:s.value}},[t._v(t._s(s.label))])}),0)]),t._v(" "),t._l(t.initDataList,function(s,e){return a("div",{key:e,staticClass:"mui-card",on:{click:function(a){return t.toRecords(s.repairid)}}},[a("div",{staticClass:"mui-card-header"},[0==s.repairstatus?a("div",{staticClass:"font-topright"},[t._v(t._s(t._f("status")(s.repairstatus)))]):t._e(),t._v(" "),0==s.repairstatus?a("div",{staticClass:"triangle-topright mui-badge-orange"}):t._e(),t._v(" "),a("span",{staticClass:"muicard-header-title"},[t._v("流水号: "+t._s(s.repairid))])]),t._v(" "),a("div",{staticClass:"mui-card-content"},[a("div",{staticClass:"repair-item-title"},[a("span",[t._v(t._s(s.description))]),t._v(" "),a("span",{staticClass:"mui-icon mui-icon-arrowright"})])]),t._v(" "),a("div",{staticClass:"mui-card-footer"},[a("div",{staticClass:"repair-item-time"},[a("span",{class:t._f("styleStatus")(s.repairstatus)},[t._v(t._s(t._f("status")(s.repairstatus)))]),t._v(" "),a("span",{staticClass:"item-date"},[t._v(t._s(t._f("format")(s.publishtime)))])])])])})],2)])},staticRenderFns:[]};var c=a("VU/8")(r,n,!1,function(t){a("P7HI")},"data-v-10159354",null);s.default=c.exports}});
//# sourceMappingURL=7.d522e6dbc3e93455e6a7.js.map