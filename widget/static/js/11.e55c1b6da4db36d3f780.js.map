{"version":3,"sources":["webpack:///src/views/chat/groupMessDetail.vue","webpack:///./src/views/chat/groupMessDetail.vue?4de3","webpack:///./src/views/chat/groupMessDetail.vue","webpack:///src/views/chat/groupMessage.vue","webpack:///./src/views/chat/groupMessage.vue?0da2","webpack:///./src/views/chat/groupMessage.vue"],"names":["groupMessDetail","mounted","console","log","this","groupinfoList","computed","$store","state","group","groupInfo","methods","extends_default","Object","vuex_esm","addMember","_this","mui","prompt","e","index","onInviteGroup","select_id","gid","select_name","value","toast","chat_groupMessDetail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","_v","staticStyle","margin","padding","type","on","click","$event","_m","_l","members","filter","i","owner","item","_s","member","admin","staticRenderFns","margin-bottom","views_chat_groupMessDetail","__webpack_require__","normalizeComponent","ssrContext","groupMessage","components","Aside","data","activedKey","contact","chatroom","status","sending","sent","read","onGetGroupUserList","getCurrentMsg","init","onGetGroupinfo","groupid","$route","params","username","onSendTextMsg","onSendText","chatType","chatId","message","select2","key","$data","selectedKeys","select","props","onGetCurrentChatObjMsg","Vue","commit","action","readUser","renderTime","time","nowStr","Date","localStr","moment_default","format","getGroupInfo","swipeBack","offCanvasWrapper","offCanvasSide","document","getElementById","classList","remove","setAttribute","add","addEventListener","offCanvas","scroll","filters","avatar","name","slice","length","chat_groupMessage","bySelf","_e","_f","from","msg","style","text-align","directives","rawName","expression","placeholder","domProps","input","target","composing","groupMessage_Component","groupMessage_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/11.e55c1b6da4db36d3f780.js","sourcesContent":["<template>\r\n    <aside id=\"offCanvasSide\" class=\"mui-off-canvas-right\">\r\n        <div id=\"offCanvasSideScroll\" class=\"mui-scroll-wrapper\">\r\n          <div class=\"mui-scroll\">\r\n            <div class=\"title\">群组信息</div>\r\n            <div class=\"content\">\r\n              <span class=\"android-only\"></span>\r\n              <p style=\"margin: 10px 15px;\">\r\n                <button\r\n                  id=\"offCanvasHide\"\r\n                  type=\"button\"\r\n                  class=\"mui-btn mui-btn-danger mui-btn-block\"\r\n                  style=\"padding: 5px 20px;\"\r\n                >关闭</button>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"mui-btn mui-btn-danger mui-btn-block\"\r\n                  style=\"padding: 5px 20px;\"\r\n                  @click=\"addMember()\"\r\n                >添加成员+</button>\r\n              </p>\r\n            </div>\r\n            <div class=\"title\" style=\"margin-bottom: 25px;\">\r\n                <span>成员</span>\r\n                <span class=\"\"></span>\r\n            </div>\r\n            <ul\r\n                class=\"mui-table-view mui-table-view-chevron mui-table-view-inverted\"\r\n                v-for=\"(item,index) in groupinfoList.members.filter((i)=>{if(!i.owner){return i}})\"\r\n            >\r\n              <li class=\"mui-table-view-cell\">\r\n                <a class=\"mui-navigate-right\">{{item.member}}</a>\r\n              </li>\r\n            </ul>\r\n             <div class=\"title\" style=\"margin-bottom: 25px;\">\r\n                <span>群主</span>\r\n            </div>\r\n            <ul\r\n                class=\"mui-table-view mui-table-view-chevron mui-table-view-inverted\"\r\n            >\r\n              <li class=\"mui-table-view-cell\">\r\n                <a class=\"mui-navigate-right\">{{groupinfoList.admin}}</a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </aside>\r\n</template>\r\n<script>\r\nimport { mapActions } from \"vuex\";\r\nexport default {\r\n  mounted () {\r\n    console.log(this.groupinfoList)\r\n  },\r\n  computed: {\r\n    groupinfoList () {\r\n      return this.$store.state.group.groupInfo\r\n    }\r\n  },\r\n  methods:{\r\n    ...mapActions(['onInviteGroup']),\r\n    \r\n    addMember () {\r\n      var btnArray = ['取消', '确定']\r\n      mui.prompt('请输入手机号：', '', '邀请成员', btnArray, (e) => {\r\n        if (e.index == 1) {\r\n          this.onInviteGroup({\r\n            select_id: this.groupinfoList.gid,\r\n            select_name: e.value\r\n          })\r\n          mui.toast('已发出邀请')\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.mui-off-canvas-right{\r\n    z-index: 999;\r\n}\r\n.mui-scroll{\r\n    margin-top: 40px;\r\n}\r\n.title {\r\n  margin: 35px 15px 10px;\r\n  text-align: center;\r\n}\r\n.title + .content {\r\n  margin: 10px 15px 35px;\r\n  color: #bbb;\r\n  text-indent: 1em;\r\n  font-size: 14px;\r\n  line-height: 24px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/chat/groupMessDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"mui-off-canvas-right\",attrs:{\"id\":\"offCanvasSide\"}},[_c('div',{staticClass:\"mui-scroll-wrapper\",attrs:{\"id\":\"offCanvasSideScroll\"}},[_c('div',{staticClass:\"mui-scroll\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"群组信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('span',{staticClass:\"android-only\"}),_vm._v(\" \"),_c('p',{staticStyle:{\"margin\":\"10px 15px\"}},[_c('button',{staticClass:\"mui-btn mui-btn-danger mui-btn-block\",staticStyle:{\"padding\":\"5px 20px\"},attrs:{\"id\":\"offCanvasHide\",\"type\":\"button\"}},[_vm._v(\"关闭\")]),_vm._v(\" \"),_c('button',{staticClass:\"mui-btn mui-btn-danger mui-btn-block\",staticStyle:{\"padding\":\"5px 20px\"},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addMember()}}},[_vm._v(\"添加成员+\")])])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_vm._l((_vm.groupinfoList.members.filter(function (i){if(!i.owner){return i}})),function(item,index){return _c('ul',{staticClass:\"mui-table-view mui-table-view-chevron mui-table-view-inverted\"},[_c('li',{staticClass:\"mui-table-view-cell\"},[_c('a',{staticClass:\"mui-navigate-right\"},[_vm._v(_vm._s(item.member))])])])}),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('ul',{staticClass:\"mui-table-view mui-table-view-chevron mui-table-view-inverted\"},[_c('li',{staticClass:\"mui-table-view-cell\"},[_c('a',{staticClass:\"mui-navigate-right\"},[_vm._v(_vm._s(_vm.groupinfoList.admin))])])])],2)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\",staticStyle:{\"margin-bottom\":\"25px\"}},[_c('span',[_vm._v(\"成员\")]),_vm._v(\" \"),_c('span',{})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\",staticStyle:{\"margin-bottom\":\"25px\"}},[_c('span',[_vm._v(\"群主\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e9b7938\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/chat/groupMessDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e9b7938\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./groupMessDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./groupMessDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./groupMessDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e9b7938\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./groupMessDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2e9b7938\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/chat/groupMessDetail.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"offCanvasWrapper\" class=\"chat-container mui-off-canvas-wrap mui-draggable\">\r\n    <!--侧滑菜单容器-->\r\n    <Aside></Aside>\r\n    <!--菜单部分-->\r\n    <div class=\"mui-inner-wrap\">\r\n      <div class=\"chat-container-top\">\r\n        <span class=\"mui-icon mui-icon-back\"></span>\r\n        <span>{{groupinfoList.name}}{{groupinfoList.gid}}</span>\r\n        <span id=\"offCanvasShow\" class=\"mui-icon mui-icon-more\"></span>\r\n      </div>\r\n      <div class=\"chat-item\" v-for=\"(item,i) in group\">\r\n        <div class=\"chat-item-left\" v-if=\"!item.bySelf\">\r\n          <div class=\"avatar-box\">\r\n            <div class=\"avatar\">\r\n              <span class=\"avatar-span\">{{item.from|avatar}}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"bubble-box\">\r\n            <div class=\"message-container bubble-container\">\r\n              <span class=\"message-span\">{{item.msg}}</span>\r\n            </div>\r\n            <!-- 聊天时间 -->\r\n            <div\r\n              v-if=\"item.status !== 'recall'\"\r\n              class=\"time-style\"\r\n              :style=\"{'text-align':item.bySelf ? 'right':'left'}\"\r\n            >{{renderTime(item.time)}} {{item.bySelf?status[item.status]:''}}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"chat-item-right\" v-if=\"item.bySelf\">\r\n          <div class=\"bubble-box\">\r\n            <div class=\"message-container-right bubble-container-right\">\r\n              <span class=\"message-span\">{{item.msg}}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"avatar-box\">\r\n            <div class=\"avatar\">\r\n              <span class=\"avatar-span\">{{username|avatar}}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"send-container\">\r\n        <input v-model=\"data\" type=\"text\" class=\"mui-input-clear\" placeholder=\"请输入\" />\r\n        <button type=\"button\" class=\"mui-btn\" @click=\"onSendTextMsg()\">发送</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Aside from './groupMessDetail'\r\nimport moment from \"moment\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nexport default {\r\n  components: {Aside},\r\n  data () {\r\n    return {\r\n      data: \"\",\r\n      type: \"group\",\r\n      activedKey: {\r\n        contact: \"\",\r\n        group: \"\",\r\n        chatroom: \"\"\r\n      },\r\n      status: {\r\n        sending: \"发送中\",\r\n        sent: \"已发送\",\r\n        read: \"已读\"\r\n      }\r\n    };\r\n  },\r\n  mounted () {\r\n    this.onGetGroupUserList()\r\n    this.getCurrentMsg()\r\n    this.init()\r\n    this.onGetGroupinfo({select_id: this.groupid})\r\n    console.log(this.groupinfoList)\r\n  },\r\n  computed: {\r\n    groupid() {\r\n      return this.$route.params.id;\r\n    },\r\n    ...mapGetters({\r\n      // group: \"onGetGroupUserList\"\r\n      group: \"onGetCurrentChatObjMsg\"\r\n    }),\r\n    username() {\r\n      return this.$route.params.username;\r\n    },\r\n    groupinfoList () {\r\n      return this.$store.state.group.groupInfo\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      \"onSendText\",\r\n      \"onGetGroupUserList\",\r\n      \"onGetContactUserList\",\r\n      \"onGetGroupinfo\",\r\n      \"updateMessageStatus\",\r\n      \"onGetCurrentChatObjMsg\"\r\n    ]),\r\n    onSendTextMsg() {\r\n      console.log(this.activedKey[this.type]);\r\n      // if (this.$data.message == \"\" || this.$data.message == \"\\n\") {\r\n      //   this.$data.message = \"\"\r\n      //   return\r\n      // }\r\n      this.onSendText({\r\n        chatType: this.type,\r\n        chatId: this.groupid,\r\n        message: this.data\r\n      });\r\n      this.data = \"\";\r\n    },\r\n    select2(key, index) {\r\n      this.$data.selectedKeys = [index];\r\n      this.select(key);\r\n      this.$data.activedKey[this.type] = key;\r\n    },\r\n    getCurrentMsg(props) {\r\n      this.onGetCurrentChatObjMsg({\r\n        type: \"group\",\r\n        id: this.groupid\r\n      });\r\n      Vue.$store.commit(\"updateMessageStatus\", {\r\n        action: \"oneUserReadMsgs\",\r\n        readUser: this.groupid\r\n      });\r\n    },\r\n    renderTime(time) {\r\n      const nowStr = new Date();\r\n      const localStr = time ? new Date(time) : nowStr;\r\n      const localMoment = moment(localStr);\r\n      const localFormat = localMoment.format(\"MM-DD hh:mm A\");\r\n      return localFormat;\r\n    },\r\n    getGroupInfo() {\r\n      this.onGetGroupinfo({\r\n        select_id: this.groupid\r\n      });\r\n    },\r\n    init() {\r\n      mui.init({\r\n        swipeBack: false\r\n      });\r\n      // 侧滑容器父节点\r\n      var offCanvasWrapper = mui(\"#offCanvasWrapper\");\r\n\r\n      // 主界面容器\r\n      // 菜单容器\r\n      var offCanvasSide = document.getElementById(\"offCanvasSide\");\r\n      // 移动效果是否为整体移动\r\n      var moveTogether = false;\r\n      // 侧滑容器的class列表，增加.mui-slide-in即可实现菜单移动、主界面不动的效果；\r\n      var classList = offCanvasWrapper[0].classList;\r\n      // 变换侧滑动画移动效果；\r\n      offCanvasSide.classList.remove(\"mui-transitioning\");\r\n      offCanvasSide.setAttribute(\"style\", \"\");\r\n      classList.remove(\"mui-slide-in\");\r\n      classList.remove(\"mui-scalable\");\r\n      classList.add(\"mui-slide-in\");\r\n      console.log(offCanvasWrapper);\r\n      // offCanvasWrapper.offCanvas().refresh()\r\n\r\n      document\r\n        .getElementById(\"offCanvasShow\")\r\n        .addEventListener(\"tap\", function() {\r\n          // offCanvasWrapper.offCanvas('show')\r\n          mui(\".mui-off-canvas-wrap\").offCanvas(\"show\");\r\n        });\r\n      document\r\n        .getElementById(\"offCanvasHide\")\r\n        .addEventListener(\"tap\", function() {\r\n          offCanvasWrapper.offCanvas(\"close\");\r\n        });\r\n      // 主界面和侧滑菜单界面均支持区域滚动；\r\n      mui(\"#offCanvasSideScroll\").scroll();\r\n      mui(\"#offCanvasContentScroll\").scroll();\r\n    }\r\n  },\r\n  filters: {\r\n    avatar(name) {\r\n      return name.slice(name.length - 4);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\ninput {\r\n  border-left: none;\r\n  border-right: none;\r\n}\r\n.chat-container {\r\n  padding-top: 40px;\r\n  padding-bottom: 40px;\r\n}\r\n.send-container {\r\n  position: fixed;\r\n  display: flex;\r\n  bottom: 0px;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n.mui-btn {\r\n  background-color: #6e8b3d;\r\n  color: white;\r\n}\r\n.avatar {\r\n  width: 50px;\r\n  height: 50px;\r\n  background-color: #3396fb;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex: 1;\r\n}\r\n.avatar-span {\r\n  color: white;\r\n  font-weight: bold;\r\n}\r\n.chat-item {\r\n  margin: 0 10px;\r\n}\r\n.chat-item-left {\r\n  display: flex;\r\n  margin-top: 10px;\r\n  align-items: baseline;\r\n}\r\n.chat-item-right {\r\n  display: flex;\r\n  margin-top: 10px;\r\n  justify-content: flex-end;\r\n  align-items: baseline;\r\n}\r\n.message-container {\r\n  min-height: 40px;\r\n  border: none;\r\n  border-radius: 0 10px 10px 10px;\r\n  min-width: 100px;\r\n  margin-left: 10px;\r\n  background-color: #bbe4ff;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.message-container-right {\r\n  min-height: 40px;\r\n  border: none;\r\n  border-radius: 10px 0px 10px 10px;\r\n  min-width: 100px;\r\n  margin-left: 10px;\r\n  background-color: #ffffff;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.bubble-box {\r\n  /* flex: 5; */\r\n}\r\n.avatar-box {\r\n  /* flex: 1; */\r\n}\r\n.bubble-container {\r\n  position: relative;\r\n  margin-left: 10px;\r\n}\r\n.bubble-container-right {\r\n  position: relative;\r\n  margin-right: 10px;\r\n}\r\n.triangle {\r\n  position: absolute;\r\n  height: 0;\r\n  width: 0;\r\n  border: 8px solid #6e8b3d;\r\n  border-left: none;\r\n  border-top-color: transparent;\r\n  border-bottom-color: transparent;\r\n  margin-top: 6px;\r\n}\r\n.message-span {\r\n  font-size: 16px;\r\n  margin-left: 5px;\r\n  padding: 10px;\r\n  word-break: break-all;\r\n}\r\n.time-style {\r\n  color: gray;\r\n  margin-left: 20px;\r\n  margin-top: 5px;\r\n}\r\n.chat-container-top {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  height: 40px;\r\n  align-items: center;\r\n  border-bottom:1px#d8d3d3 solid;\r\n}\r\nspan.mui-icon {\r\n  font-size: 14px;\r\n  color: #007aff;\r\n  margin-left: -15px;\r\n  padding-right: 10px;\r\n}\r\n.mui-off-canvas-right {\r\n  color: #fff;\r\n}\r\n\r\ninput {\r\n  color: #000;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/chat/groupMessage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chat-container mui-off-canvas-wrap mui-draggable\",attrs:{\"id\":\"offCanvasWrapper\"}},[_c('Aside'),_vm._v(\" \"),_c('div',{staticClass:\"mui-inner-wrap\"},[_c('div',{staticClass:\"chat-container-top\"},[_c('span',{staticClass:\"mui-icon mui-icon-back\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.groupinfoList.name)+_vm._s(_vm.groupinfoList.gid))]),_vm._v(\" \"),_c('span',{staticClass:\"mui-icon mui-icon-more\",attrs:{\"id\":\"offCanvasShow\"}})]),_vm._v(\" \"),_vm._l((_vm.group),function(item,i){return _c('div',{staticClass:\"chat-item\"},[(!item.bySelf)?_c('div',{staticClass:\"chat-item-left\"},[_c('div',{staticClass:\"avatar-box\"},[_c('div',{staticClass:\"avatar\"},[_c('span',{staticClass:\"avatar-span\"},[_vm._v(_vm._s(_vm._f(\"avatar\")(item.from)))])])]),_vm._v(\" \"),_c('div',{staticClass:\"bubble-box\"},[_c('div',{staticClass:\"message-container bubble-container\"},[_c('span',{staticClass:\"message-span\"},[_vm._v(_vm._s(item.msg))])]),_vm._v(\" \"),(item.status !== 'recall')?_c('div',{staticClass:\"time-style\",style:({'text-align':item.bySelf ? 'right':'left'})},[_vm._v(_vm._s(_vm.renderTime(item.time))+\" \"+_vm._s(item.bySelf?_vm.status[item.status]:''))]):_vm._e()])]):_vm._e(),_vm._v(\" \"),(item.bySelf)?_c('div',{staticClass:\"chat-item-right\"},[_c('div',{staticClass:\"bubble-box\"},[_c('div',{staticClass:\"message-container-right bubble-container-right\"},[_c('span',{staticClass:\"message-span\"},[_vm._v(_vm._s(item.msg))])])]),_vm._v(\" \"),_c('div',{staticClass:\"avatar-box\"},[_c('div',{staticClass:\"avatar\"},[_c('span',{staticClass:\"avatar-span\"},[_vm._v(_vm._s(_vm._f(\"avatar\")(_vm.username)))])])])]):_vm._e()])}),_vm._v(\" \"),_c('div',{staticClass:\"send-container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data),expression:\"data\"}],staticClass:\"mui-input-clear\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入\"},domProps:{\"value\":(_vm.data)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.data=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"mui-btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.onSendTextMsg()}}},[_vm._v(\"发送\")])])],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7499470f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/chat/groupMessage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7499470f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./groupMessage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./groupMessage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./groupMessage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7499470f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./groupMessage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7499470f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/chat/groupMessage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}