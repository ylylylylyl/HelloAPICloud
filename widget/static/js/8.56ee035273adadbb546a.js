webpackJsonp([8],{"1XJk":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("Dd8w"),i=e.n(s),n=e("NYxO"),o={components:{Header:e("tyqc").a},data:function(){return{buildingdata:[{value:1,text:"一单元"},{value:2,text:"二单元"},{value:3,text:"三单元"},{value:4,text:"四单元"},{value:5,text:"五单元"},{value:6,text:"六单元"},{value:1,text:"七单元"},{value:2,text:"八单元"},{value:3,text:"九单元"},{value:4,text:"十单元"},{value:5,text:"十一元"},{value:6,text:"十二单元"}],postData:{village:this.villageId,building:"",houseRoom:"",cardId:"",houseArea:"",houseOwner:"",status:1,phoneNumber:"",chooseAddr:""},tip:""}},computed:i()({},Object(n.c)(["curUserInfo"]),{villagename:function(){return this.$route.query.villagename},villageId:function(){return this.$route.query.villageid}}),mounted:function(){var t=this;mui(".mui-switch").switch(),document.getElementById("mySwitch").addEventListener("toggle",function(a){a.detail.isActive?t.postData.status=1:t.postData.status=0,console.log(t.postData.status)})},watch:{villageId:function(t){this.postData.village=t}},methods:{initRepair:function(){this.$router.push("/village")},initBuilding:function(){var t=this,a=new mui.PopPicker;a.setData(this.buildingdata);document.getElementById("building-btn");var e=document.getElementById("building-result");a.show(function(a){e.innerText=a[0].text,t.postData.building=a[0].text})},commitBind:function(){var t=this;if(null!==this.villageId&&""!==this.villageId&&this.villageId)if(null!==this.postData.building&&""!==this.postData.building)if(null!==this.postData.houseRoom&&""!==this.postData.houseRoom)if(null!==this.postData.houseArea&&""!==this.postData.houseRoom)if(null!==this.postData.houseOwner&&""!==this.postData.houseOwner)if(null!==this.postData.cardId&&""!==this.postData.cardId)if(null!==this.postData.phoneNumber&&""!==this.postData.phoneNumber){this.tip=null,this.postData.userid=this.curUserInfo.userid,this.postData.village=Number(this.postData.village),this.postData.cardId=Number(this.postData.cardId),this.postData.houseArea=Number(this.postData.houseArea),this.postData.chooseAddr=localStorage.getItem("chooseProvince")+localStorage.getItem("chooseCity")+localStorage.getItem("chooseArea")+this.villagename,this.postData.phoneNumber=Number(this.postData.phoneNumber);console.log(this.postData),this.$ajax.post({url:"http://192.168.0.182:8081/bindhouse/bindhousebyuser",data:this.postData}).then(function(a){a.status?(mui.toast(a.result),t.$router.push("/home")):mui.toast(a.msg)})}else this.tip="请输入手机号码";else this.tip="请输入身份证号码";else this.tip="请输入房屋所有人";else this.tip="请输入房屋面积";else this.tip="请输入房屋号";else this.tip="请选择楼栋";else this.tip="请选择小区"}}},u={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Header",[t._v("绑定房屋")]),t._v(" "),e("div",{staticClass:"bindhouse-container"},[e("div",{staticClass:"house-info"},[e("div",{staticClass:"info-title"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-fangwu"}})]),t._v(" "),e("span",[t._v("房屋信息")])]),t._v(" "),e("div",{staticClass:"info-content"},[e("button",{staticClass:"btn mui-btn mui-btn-block",attrs:{id:"comm-btn"},on:{click:function(a){return t.initRepair()}}},[t._m(0),t._v(" "),e("div",[t.$route.query.villagename?t._e():e("span",{attrs:{id:"comm-result"}},[t._v("点击选择")]),t._v(" "),t.$route.query.villagename?e("span",{attrs:{id:"comm-result"}},[t._v(t._s(t.villagename))]):t._e(),t._v(" "),e("span",{staticClass:"mui-icon mui-icon-arrowright"})])]),t._v(" "),e("button",{staticClass:"btn mui-btn mui-btn-block",attrs:{id:"building-btn"},on:{click:function(a){return t.initBuilding()}}},[t._m(1),t._v(" "),e("div",[e("span",{attrs:{id:"building-result"}},[t._v(t._s(t.postData.building))]),t._v(" "),e("span",{staticClass:"mui-icon mui-icon-arrowright"})])]),t._v(" "),e("div",{staticClass:"input-container"},[e("span",{staticClass:"input-left"},[t._v("房屋号")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.postData.houseRoom,expression:"postData.houseRoom"}],staticClass:"mui-input-clear inout-right",attrs:{type:"text",placeholder:"请输入房屋号"},domProps:{value:t.postData.houseRoom},on:{input:function(a){a.target.composing||t.$set(t.postData,"houseRoom",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-container"},[e("span",{staticClass:"input-left"},[t._v("房屋面积")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.postData.houseArea,expression:"postData.houseArea"}],staticClass:"mui-input-clear inout-right",attrs:{type:"text",placeholder:"请输入房屋面积"},domProps:{value:t.postData.houseArea},on:{input:function(a){a.target.composing||t.$set(t.postData,"houseArea",a.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"user-info"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-yonghu"}})]),t._v(" "),e("span",[t._v("用户信息")]),t._v(" "),e("div",{staticClass:"info-content"},[e("div",{staticClass:"input-container"},[e("span",{staticClass:"input-left"},[t._v("用户名")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.postData.houseOwner,expression:"postData.houseOwner"}],staticClass:"mui-input-clear inout-right",attrs:{type:"text",placeholder:"请输入房屋所有人"},domProps:{value:t.postData.houseOwner},on:{input:function(a){a.target.composing||t.$set(t.postData,"houseOwner",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-container"},[e("span",{staticClass:"input-left"},[t._v("身份证号")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.postData.cardId,expression:"postData.cardId"}],staticClass:"mui-input-clear inout-right",attrs:{type:"text",placeholder:"请输入房屋所有人身份证号"},domProps:{value:t.postData.cardId},on:{input:function(a){a.target.composing||t.$set(t.postData,"cardId",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-container"},[e("span",{staticClass:"input-left"},[t._v("联系电话")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.postData.phoneNumber,expression:"postData.phoneNumber"}],staticClass:"mui-input-clear inout-right",attrs:{type:"text",placeholder:"请输入房屋所有人联系电话"},domProps:{value:t.postData.phoneNumber},on:{input:function(a){a.target.composing||t.$set(t.postData,"phoneNumber",a.target.value)}}})]),t._v(" "),t._m(2),t._v(" "),e("span",{staticClass:"tip"},[t._v(t._s(t.tip))])])]),t._v(" "),e("div",{staticClass:"btn-container"},[e("button",{staticClass:"mui-btn mui-btn-primary",attrs:{type:"button"},on:{click:function(a){return t.commitBind()}}},[t._v("提交")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("span",[this._v("小区")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("span",[this._v("楼栋")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"input-container"},[a("span",{staticClass:"input-left"},[this._v("设为默认地址")]),this._v(" "),a("div",{staticClass:"mui-switch mui-switch-mini mui-active",attrs:{id:"mySwitch"}},[a("div",{staticClass:"mui-switch-handle"})])])}]};var l=e("VU/8")(o,u,!1,function(t){e("kPTs")},"data-v-8c304116",null);a.default=l.exports},kPTs:function(t,a){}});
//# sourceMappingURL=8.56ee035273adadbb546a.js.map